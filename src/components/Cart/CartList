import React, { useContext } from 'react'
import { CartContext } from '../context/CartContext';
import CartItem from './CartItem';
import './CartList.css';

const CartList = () => {

    const cartContext = useContext(CartContext);
    const { cart, removeFromCart, clearCart } = cartContext;

    return (
        <section className="list-cart-container">
            {cart ? (cart.map( product => {
                return(
                <CartItem  {... product}
                             key={product.id}
                             quantity = {product} 
                            removeFromCart={removeFromCart}/>
                        );
                }))
                  : <p>cargando productos</p>
            }
            {cart.length ? (<button 
                            className="button-primary button-padding"
                            onClick={clearCart}
                      >Vaciar Carrito</button>)
                         : <p>No hay productos en el carrito</p>
            }
        </section>
    )
}

export default CartList
